{"id":"enjv","dependencies":[{"name":"C:\\Users\\O\\Desktop\\Projects\\roastagram\\package.json","includedInParent":true,"mtime":1598686448093},{"name":"./lit-element/lit-element.js","loc":{"line":1,"column":38},"parent":"C:\\Users\\O\\Desktop\\Projects\\roastagram\\listOfMemes.js","resolved":"C:\\Users\\O\\Desktop\\Projects\\roastagram\\lit-element\\lit-element.js"},{"name":"/routal.js","loc":{"line":2,"column":29},"parent":"C:\\Users\\O\\Desktop\\Projects\\roastagram\\listOfMemes.js","resolved":"C:\\Users\\O\\Desktop\\Projects\\roastagram\\routal.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.listOfMemes=void 0;var e=require(\"./lit-element/lit-element.js\"),t=require(\"/routal.js\");class i extends e.LitElement{static get properties(){return{tab:{type:String},memes:{type:Object},loading:Boolean}}constructor(){super(),this.tab=\"forYou\",this.memes=[],this.refresh=this.refresh.bind(this),U.readUser().then(e=>{e||(this.tab=\"trending\"),this.refresh()})}async refresh(){this.loading=!0,window.userLocation||(window.userLocation=await fetch(\"http://ip-api.com/json\").then(e=>e.json())),this.memes[0]=await U.collection(\"memes\").find({\"userLocation.city\":userLocation.city},{sort:{createdAt:\"descending\"}}),this.memes[1]=await U.collection(\"memes\").find({\"userLocation.regionName\":userLocation.regionName},{sort:{createdAt:\"descending\"}}),this.memes[2]=await U.collection(\"memes\").find({\"userLocation.country\":userLocation.country},{sort:{createdAt:\"descending\"}}),this.memes[3]=await U.collection(\"memes\").find(null,{sort:{createdAt:\"descending\"}}),console.log(this.memes),this.loading=!1}static get styles(){return e.css`\n            #memes{\n                margin-top:12px;\n                display: grid;\n                place-items: center;\n            }\n\n            #container{\n                font-family:roboto;\n                display:grid;\n                gird-template-colums:50% 50%;\n                place-items:center;\n                margin-top:22px;\n            }\n\n            \n            h3{\n                text-align:center;\n                font-size:24px;\n                font-weight:100;\n                font-family:roboto;\n            }\n\n            #tabs button{\n                background: no-repeat;\n                border: none;\n                font-size: 20px;\n                padding:0;\n                outline:none;\n                margin-right:15px;\n\n                color: #222;\n                font-weight:200;\n\n                font-family: roboto;\n            }\n\n\n            #tabs{\n                margin-bottom:30px;\n            }\n\n            #tabs button[data-active=\"true\"]{\n                font-weight:900;\n                color: rgb(255 63 63);;\n            }\n\n            a-meme{\n                margin-bottom:24px;\n                display: inline-block;\n            }\n\n            @media (min-width:850px){\n                #memes{\n      \n                    grid-column-gap: 10px;\n                    width: 90vw;\n                    grid-template-columns: 1fr 1fr 1fr;\n                }\n            }\n\n        `}render(){if(this.loading)return e.html`<h3>Loading...</h3>`;let t=[];return e.html`\n        <div id=\"container\">\n            <div id='memes'>\n            ${(()=>{let i=[];for(let o of this.memes)o.map(o=>{let n,s;\"string\"==typeof o?n=o:(n=o._id,s=o),t.includes(n)||(t.push(n),i.push(e.html` <a-meme .contentId=${n} .memeData=${s}> </a-meme>`))});return i})()}\n            </div>\n        </div>\n        `}}exports.listOfMemes=i,customElements.define(\"list-of-memes\",i);"},"sourceMaps":{"js":{"mappings":[{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":0}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":13}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":20}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":35}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":43}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":56}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":57}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":64}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":68}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":76}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":1,"column":93}},{"source":"listOfMemes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"listOfMemes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"listOfMemes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"listOfMemes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"listOfMemes.js","original":{"line":2,"column":0},"generated":{"line":1,"column":141}},{"source":"listOfMemes.js","original":{"line":2,"column":0},"generated":{"line":1,"column":143}},{"source":"listOfMemes.js","original":{"line":2,"column":0},"generated":{"line":1,"column":151}},{"source":"listOfMemes.js","original":{"line":5,"column":7},"generated":{"line":1,"column":165}},{"source":"listOfMemes.js","name":"listOfMemes","original":{"line":5,"column":13},"generated":{"line":1,"column":171}},{"source":"listOfMemes.js","name":"LitElement","original":{"line":5,"column":33},"generated":{"line":1,"column":181}},{"source":"listOfMemes.js","original":{"line":5,"column":7},"generated":{"line":1,"column":183}},{"source":"listOfMemes.js","name":"properties","original":{"line":7,"column":15},"generated":{"line":1,"column":194}},{"source":"listOfMemes.js","original":{"line":8,"column":13},"generated":{"line":1,"column":218}},{"source":"listOfMemes.js","original":{"line":8,"column":13},"generated":{"line":1,"column":224}},{"source":"listOfMemes.js","name":"tab","original":{"line":9,"column":8},"generated":{"line":1,"column":225}},{"source":"listOfMemes.js","original":{"line":9,"column":13},"generated":{"line":1,"column":229}},{"source":"listOfMemes.js","name":"type","original":{"line":9,"column":15},"generated":{"line":1,"column":230}},{"source":"listOfMemes.js","name":"String","original":{"line":9,"column":21},"generated":{"line":1,"column":235}},{"source":"listOfMemes.js","name":"memes","original":{"line":10,"column":8},"generated":{"line":1,"column":243}},{"source":"listOfMemes.js","original":{"line":10,"column":14},"generated":{"line":1,"column":249}},{"source":"listOfMemes.js","name":"type","original":{"line":10,"column":15},"generated":{"line":1,"column":250}},{"source":"listOfMemes.js","name":"Object","original":{"line":10,"column":20},"generated":{"line":1,"column":255}},{"source":"listOfMemes.js","name":"loading","original":{"line":11,"column":8},"generated":{"line":1,"column":263}},{"source":"listOfMemes.js","name":"Boolean","original":{"line":11,"column":16},"generated":{"line":1,"column":271}},{"source":"listOfMemes.js","name":"constructor","original":{"line":15,"column":4},"generated":{"line":1,"column":280}},{"source":"listOfMemes.js","original":{"line":16,"column":8},"generated":{"line":1,"column":294}},{"source":"listOfMemes.js","name":"tab","original":{"line":17,"column":13},"generated":{"line":1,"column":302}},{"source":"listOfMemes.js","name":"tab","original":{"line":17,"column":13},"generated":{"line":1,"column":307}},{"source":"listOfMemes.js","original":{"line":17,"column":19},"generated":{"line":1,"column":311}},{"source":"listOfMemes.js","name":"memes","original":{"line":18,"column":13},"generated":{"line":1,"column":320}},{"source":"listOfMemes.js","name":"memes","original":{"line":18,"column":13},"generated":{"line":1,"column":325}},{"source":"listOfMemes.js","original":{"line":18,"column":21},"generated":{"line":1,"column":331}},{"source":"listOfMemes.js","name":"refresh","original":{"line":19,"column":13},"generated":{"line":1,"column":334}},{"source":"listOfMemes.js","name":"refresh","original":{"line":19,"column":13},"generated":{"line":1,"column":339}},{"source":"listOfMemes.js","original":{"line":19,"column":23},"generated":{"line":1,"column":347}},{"source":"listOfMemes.js","name":"refresh","original":{"line":19,"column":28},"generated":{"line":1,"column":352}},{"source":"listOfMemes.js","name":"bind","original":{"line":19,"column":36},"generated":{"line":1,"column":360}},{"source":"listOfMemes.js","original":{"line":19,"column":41},"generated":{"line":1,"column":365}},{"source":"listOfMemes.js","name":"U","original":{"line":21,"column":8},"generated":{"line":1,"column":371}},{"source":"listOfMemes.js","name":"readUser","original":{"line":21,"column":10},"generated":{"line":1,"column":373}},{"source":"listOfMemes.js","name":"then","original":{"line":21,"column":21},"generated":{"line":1,"column":384}},{"source":"listOfMemes.js","name":"data","original":{"line":21,"column":26},"generated":{"line":1,"column":389}},{"source":"listOfMemes.js","name":"data","original":{"line":22,"column":16},"generated":{"line":1,"column":393}},{"source":"listOfMemes.js","original":{"line":22,"column":22},"generated":{"line":1,"column":397}},{"source":"listOfMemes.js","name":"tab","original":{"line":22,"column":27},"generated":{"line":1,"column":402}},{"source":"listOfMemes.js","original":{"line":22,"column":33},"generated":{"line":1,"column":406}},{"source":"listOfMemes.js","name":"refresh","original":{"line":23,"column":17},"generated":{"line":1,"column":418}},{"source":"listOfMemes.js","name":"refresh","original":{"line":23,"column":17},"generated":{"line":1,"column":423}},{"source":"listOfMemes.js","name":"refresh","original":{"line":31,"column":10},"generated":{"line":1,"column":435}},{"source":"listOfMemes.js","name":"loading","original":{"line":32,"column":13},"generated":{"line":1,"column":451}},{"source":"listOfMemes.js","name":"loading","original":{"line":32,"column":13},"generated":{"line":1,"column":456}},{"source":"listOfMemes.js","original":{"line":32,"column":23},"generated":{"line":1,"column":465}},{"source":"listOfMemes.js","name":"window","original":{"line":34,"column":12},"generated":{"line":1,"column":467}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":34,"column":19},"generated":{"line":1,"column":474}},{"source":"listOfMemes.js","name":"window","original":{"line":34,"column":33},"generated":{"line":1,"column":489}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":34,"column":40},"generated":{"line":1,"column":496}},{"source":"listOfMemes.js","name":"fetch","original":{"line":34,"column":61},"generated":{"line":1,"column":515}},{"source":"listOfMemes.js","original":{"line":34,"column":67},"generated":{"line":1,"column":521}},{"source":"listOfMemes.js","name":"then","original":{"line":34,"column":93},"generated":{"line":1,"column":547}},{"source":"listOfMemes.js","name":"data","original":{"line":34,"column":98},"generated":{"line":1,"column":552}},{"source":"listOfMemes.js","name":"data","original":{"line":34,"column":104},"generated":{"line":1,"column":555}},{"source":"listOfMemes.js","name":"json","original":{"line":34,"column":109},"generated":{"line":1,"column":557}},{"source":"listOfMemes.js","name":"memes","original":{"line":39,"column":13},"generated":{"line":1,"column":566}},{"source":"listOfMemes.js","name":"memes","original":{"line":39,"column":13},"generated":{"line":1,"column":571}},{"source":"listOfMemes.js","original":{"line":39,"column":19},"generated":{"line":1,"column":577}},{"source":"listOfMemes.js","name":"U","original":{"line":39,"column":30},"generated":{"line":1,"column":586}},{"source":"listOfMemes.js","name":"collection","original":{"line":39,"column":32},"generated":{"line":1,"column":588}},{"source":"listOfMemes.js","original":{"line":39,"column":43},"generated":{"line":1,"column":599}},{"source":"listOfMemes.js","name":"find","original":{"line":39,"column":52},"generated":{"line":1,"column":608}},{"source":"listOfMemes.js","original":{"line":39,"column":58},"generated":{"line":1,"column":613}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":39,"column":79},"generated":{"line":1,"column":614}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":39,"column":79},"generated":{"line":1,"column":634}},{"source":"listOfMemes.js","name":"city","original":{"line":39,"column":92},"generated":{"line":1,"column":647}},{"source":"listOfMemes.js","original":{"line":39,"column":99},"generated":{"line":1,"column":653}},{"source":"listOfMemes.js","name":"sort","original":{"line":39,"column":100},"generated":{"line":1,"column":654}},{"source":"listOfMemes.js","original":{"line":39,"column":105},"generated":{"line":1,"column":659}},{"source":"listOfMemes.js","original":{"line":39,"column":118},"generated":{"line":1,"column":660}},{"source":"listOfMemes.js","original":{"line":39,"column":118},"generated":{"line":1,"column":670}},{"source":"listOfMemes.js","name":"memes","original":{"line":40,"column":13},"generated":{"line":1,"column":686}},{"source":"listOfMemes.js","name":"memes","original":{"line":40,"column":13},"generated":{"line":1,"column":691}},{"source":"listOfMemes.js","original":{"line":40,"column":19},"generated":{"line":1,"column":697}},{"source":"listOfMemes.js","name":"U","original":{"line":40,"column":30},"generated":{"line":1,"column":706}},{"source":"listOfMemes.js","name":"collection","original":{"line":40,"column":32},"generated":{"line":1,"column":708}},{"source":"listOfMemes.js","original":{"line":40,"column":43},"generated":{"line":1,"column":719}},{"source":"listOfMemes.js","name":"find","original":{"line":40,"column":52},"generated":{"line":1,"column":728}},{"source":"listOfMemes.js","original":{"line":40,"column":58},"generated":{"line":1,"column":733}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":40,"column":85},"generated":{"line":1,"column":734}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":40,"column":85},"generated":{"line":1,"column":760}},{"source":"listOfMemes.js","name":"regionName","original":{"line":40,"column":98},"generated":{"line":1,"column":773}},{"source":"listOfMemes.js","original":{"line":40,"column":111},"generated":{"line":1,"column":785}},{"source":"listOfMemes.js","name":"sort","original":{"line":40,"column":112},"generated":{"line":1,"column":786}},{"source":"listOfMemes.js","original":{"line":40,"column":117},"generated":{"line":1,"column":791}},{"source":"listOfMemes.js","original":{"line":40,"column":130},"generated":{"line":1,"column":792}},{"source":"listOfMemes.js","original":{"line":40,"column":130},"generated":{"line":1,"column":802}},{"source":"listOfMemes.js","name":"memes","original":{"line":41,"column":13},"generated":{"line":1,"column":818}},{"source":"listOfMemes.js","name":"memes","original":{"line":41,"column":13},"generated":{"line":1,"column":823}},{"source":"listOfMemes.js","original":{"line":41,"column":19},"generated":{"line":1,"column":829}},{"source":"listOfMemes.js","name":"U","original":{"line":41,"column":30},"generated":{"line":1,"column":838}},{"source":"listOfMemes.js","name":"collection","original":{"line":41,"column":32},"generated":{"line":1,"column":840}},{"source":"listOfMemes.js","original":{"line":41,"column":43},"generated":{"line":1,"column":851}},{"source":"listOfMemes.js","name":"find","original":{"line":41,"column":52},"generated":{"line":1,"column":860}},{"source":"listOfMemes.js","original":{"line":41,"column":58},"generated":{"line":1,"column":865}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":41,"column":82},"generated":{"line":1,"column":866}},{"source":"listOfMemes.js","name":"userLocation","original":{"line":41,"column":82},"generated":{"line":1,"column":889}},{"source":"listOfMemes.js","name":"country","original":{"line":41,"column":95},"generated":{"line":1,"column":902}},{"source":"listOfMemes.js","original":{"line":41,"column":105},"generated":{"line":1,"column":911}},{"source":"listOfMemes.js","name":"sort","original":{"line":41,"column":106},"generated":{"line":1,"column":912}},{"source":"listOfMemes.js","original":{"line":41,"column":111},"generated":{"line":1,"column":917}},{"source":"listOfMemes.js","original":{"line":41,"column":124},"generated":{"line":1,"column":918}},{"source":"listOfMemes.js","original":{"line":41,"column":124},"generated":{"line":1,"column":928}},{"source":"listOfMemes.js","name":"memes","original":{"line":42,"column":13},"generated":{"line":1,"column":944}},{"source":"listOfMemes.js","name":"memes","original":{"line":42,"column":13},"generated":{"line":1,"column":949}},{"source":"listOfMemes.js","original":{"line":42,"column":19},"generated":{"line":1,"column":955}},{"source":"listOfMemes.js","name":"U","original":{"line":42,"column":30},"generated":{"line":1,"column":964}},{"source":"listOfMemes.js","name":"collection","original":{"line":42,"column":32},"generated":{"line":1,"column":966}},{"source":"listOfMemes.js","original":{"line":42,"column":43},"generated":{"line":1,"column":977}},{"source":"listOfMemes.js","name":"find","original":{"line":42,"column":52},"generated":{"line":1,"column":986}},{"source":"listOfMemes.js","original":{"line":42,"column":57},"generated":{"line":1,"column":991}},{"source":"listOfMemes.js","original":{"line":42,"column":64},"generated":{"line":1,"column":996}},{"source":"listOfMemes.js","name":"sort","original":{"line":42,"column":65},"generated":{"line":1,"column":997}},{"source":"listOfMemes.js","original":{"line":42,"column":70},"generated":{"line":1,"column":1002}},{"source":"listOfMemes.js","original":{"line":42,"column":83},"generated":{"line":1,"column":1003}},{"source":"listOfMemes.js","original":{"line":42,"column":83},"generated":{"line":1,"column":1013}},{"source":"listOfMemes.js","name":"console","original":{"line":44,"column":8},"generated":{"line":1,"column":1029}},{"source":"listOfMemes.js","name":"log","original":{"line":44,"column":16},"generated":{"line":1,"column":1037}},{"source":"listOfMemes.js","original":{"line":44,"column":20},"generated":{"line":1,"column":1041}},{"source":"listOfMemes.js","name":"memes","original":{"line":44,"column":25},"generated":{"line":1,"column":1046}},{"source":"listOfMemes.js","name":"loading","original":{"line":45,"column":13},"generated":{"line":1,"column":1053}},{"source":"listOfMemes.js","name":"loading","original":{"line":45,"column":13},"generated":{"line":1,"column":1058}},{"source":"listOfMemes.js","original":{"line":45,"column":23},"generated":{"line":1,"column":1067}},{"source":"listOfMemes.js","name":"styles","original":{"line":49,"column":15},"generated":{"line":1,"column":1069}},{"source":"listOfMemes.js","original":{"line":50,"column":15},"generated":{"line":1,"column":1089}},{"source":"listOfMemes.js","original":{"line":50,"column":19},"generated":{"line":1,"column":1096}},{"source":"listOfMemes.js","original":{"line":50,"column":19},"generated":{"line":1,"column":1098}},{"source":"listOfMemes.js","name":"render","original":{"line":115,"column":4},"generated":{"line":62,"column":10}},{"source":"listOfMemes.js","original":{"line":117,"column":11},"generated":{"line":62,"column":19}},{"source":"listOfMemes.js","original":{"line":117,"column":11},"generated":{"line":62,"column":22}},{"source":"listOfMemes.js","name":"loading","original":{"line":117,"column":16},"generated":{"line":62,"column":27}},{"source":"listOfMemes.js","original":{"line":117,"column":25},"generated":{"line":62,"column":35}},{"source":"listOfMemes.js","original":{"line":117,"column":37},"generated":{"line":62,"column":42}},{"source":"listOfMemes.js","original":{"line":117,"column":37},"generated":{"line":62,"column":44}},{"source":"listOfMemes.js","name":"dontRepeatThese","original":{"line":119,"column":12},"generated":{"line":62,"column":70}},{"source":"listOfMemes.js","name":"dontRepeatThese","original":{"line":119,"column":12},"generated":{"line":62,"column":74}},{"source":"listOfMemes.js","original":{"line":119,"column":30},"generated":{"line":62,"column":76}},{"source":"listOfMemes.js","original":{"line":152,"column":15},"generated":{"line":62,"column":79}},{"source":"listOfMemes.js","original":{"line":152,"column":20},"generated":{"line":62,"column":86}},{"source":"listOfMemes.js","original":{"line":152,"column":20},"generated":{"line":62,"column":88}},{"source":"listOfMemes.js","original":{"line":121,"column":27},"generated":{"line":65,"column":14}},{"source":"listOfMemes.js","name":"all","original":{"line":122,"column":16},"generated":{"line":65,"column":20}},{"source":"listOfMemes.js","name":"all","original":{"line":122,"column":16},"generated":{"line":65,"column":24}},{"source":"listOfMemes.js","original":{"line":122,"column":22},"generated":{"line":65,"column":26}},{"source":"listOfMemes.js","original":{"line":124,"column":16},"generated":{"line":65,"column":29}},{"source":"listOfMemes.js","original":{"line":124,"column":16},"generated":{"line":65,"column":33}},{"source":"listOfMemes.js","name":"index","original":{"line":124,"column":20},"generated":{"line":65,"column":37}},{"source":"listOfMemes.js","original":{"line":124,"column":29},"generated":{"line":65,"column":42}},{"source":"listOfMemes.js","name":"memes","original":{"line":124,"column":34},"generated":{"line":65,"column":47}},{"source":"listOfMemes.js","name":"index","original":{"line":126,"column":16},"generated":{"line":65,"column":53}},{"source":"listOfMemes.js","name":"map","original":{"line":126,"column":22},"generated":{"line":65,"column":55}},{"source":"listOfMemes.js","name":"item","original":{"line":126,"column":26},"generated":{"line":65,"column":59}},{"source":"listOfMemes.js","name":"id","original":{"line":129,"column":24},"generated":{"line":65,"column":63}},{"source":"listOfMemes.js","name":"id","original":{"line":129,"column":24},"generated":{"line":65,"column":67}},{"source":"listOfMemes.js","name":"memeData","original":{"line":130,"column":24},"generated":{"line":65,"column":69}},{"source":"listOfMemes.js","original":{"line":132,"column":38},"generated":{"line":65,"column":71}},{"source":"listOfMemes.js","name":"item","original":{"line":132,"column":30},"generated":{"line":65,"column":88}},{"source":"listOfMemes.js","name":"id","original":{"line":133,"column":25},"generated":{"line":65,"column":90}},{"source":"listOfMemes.js","name":"item","original":{"line":133,"column":30},"generated":{"line":65,"column":92}},{"source":"listOfMemes.js","name":"id","original":{"line":135,"column":25},"generated":{"line":65,"column":95}},{"source":"listOfMemes.js","name":"item","original":{"line":135,"column":30},"generated":{"line":65,"column":97}},{"source":"listOfMemes.js","name":"_id","original":{"line":135,"column":35},"generated":{"line":65,"column":99}},{"source":"listOfMemes.js","name":"memeData","original":{"line":136,"column":25},"generated":{"line":65,"column":103}},{"source":"listOfMemes.js","name":"item","original":{"line":136,"column":36},"generated":{"line":65,"column":105}},{"source":"listOfMemes.js","name":"dontRepeatThese","original":{"line":139,"column":23},"generated":{"line":65,"column":108}},{"source":"listOfMemes.js","name":"includes","original":{"line":139,"column":39},"generated":{"line":65,"column":110}},{"source":"listOfMemes.js","name":"id","original":{"line":139,"column":48},"generated":{"line":65,"column":119}},{"source":"listOfMemes.js","name":"dontRepeatThese","original":{"line":141,"column":20},"generated":{"line":65,"column":124}},{"source":"listOfMemes.js","name":"push","original":{"line":141,"column":36},"generated":{"line":65,"column":126}},{"source":"listOfMemes.js","name":"id","original":{"line":141,"column":41},"generated":{"line":65,"column":131}},{"source":"listOfMemes.js","name":"all","original":{"line":143,"column":20},"generated":{"line":65,"column":134}},{"source":"listOfMemes.js","name":"push","original":{"line":143,"column":24},"generated":{"line":65,"column":136}},{"source":"listOfMemes.js","original":{"line":143,"column":35},"generated":{"line":65,"column":141}},{"source":"listOfMemes.js","original":{"line":143,"column":35},"generated":{"line":65,"column":143}},{"source":"listOfMemes.js","name":"id","original":{"line":143,"column":57},"generated":{"line":65,"column":170}},{"source":"listOfMemes.js","name":"memeData","original":{"line":143,"column":73},"generated":{"line":65,"column":185}},{"source":"listOfMemes.js","name":"all","original":{"line":148,"column":19},"generated":{"line":65,"column":204}},{"source":"listOfMemes.js","name":"all","original":{"line":148,"column":19},"generated":{"line":65,"column":211}},{"source":"listOfMemes.js","name":"returnMemes","original":{"line":155,"column":14},"generated":{"line":65,"column":214}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":68,"column":11}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":68,"column":19}},{"source":"listOfMemes.js","original":{"line":163,"column":0},"generated":{"line":68,"column":31}},{"source":"listOfMemes.js","name":"customElements","original":{"line":163,"column":0},"generated":{"line":68,"column":33}},{"source":"listOfMemes.js","name":"define","original":{"line":163,"column":15},"generated":{"line":68,"column":48}},{"source":"listOfMemes.js","original":{"line":163,"column":22},"generated":{"line":68,"column":55}},{"source":"listOfMemes.js","name":"listOfMemes","original":{"line":163,"column":38},"generated":{"line":68,"column":71}}],"sources":{"listOfMemes.js":"import { css, LitElement, html } from './lit-element/lit-element.js';\r\nimport { Link, Routal } from '/routal.js'\r\n\r\n\r\nexport class listOfMemes extends LitElement {\r\n\r\n    static get properties() {\r\n      return {\r\n        tab: { type: String },\r\n        memes:{type:Object},\r\n        loading:Boolean\r\n      }\r\n    }\r\n\r\n    constructor(){\r\n        super()\r\n        this.tab = 'forYou'\r\n        this.memes = []\r\n        this.refresh = this.refresh.bind(this)\r\n        \r\n        U.readUser().then(data=>{\r\n            if(!data) this.tab = 'trending'\r\n            this.refresh()\r\n        })\r\n\r\n       \r\n    }\r\n\r\n \r\n\r\n    async refresh(){\r\n        this.loading = true\r\n\r\n        if(!window.userLocation) window.userLocation = await fetch('http://ip-api.com/json').then(data=>data.json())\r\n\r\n   \r\n        \r\n\r\n        this.memes[0] = await U.collection('memes').find( {'userLocation.city':userLocation.city}, {sort:{'createdAt':'descending'}} )\r\n        this.memes[1] = await U.collection('memes').find( {'userLocation.regionName':userLocation.regionName}, {sort:{'createdAt':'descending'}} )\r\n        this.memes[2] = await U.collection('memes').find( {'userLocation.country':userLocation.country}, {sort:{'createdAt':'descending'}} )\r\n        this.memes[3] = await U.collection('memes').find(null , {sort:{'createdAt':'descending'}} )\r\n\r\n        console.log(this.memes)\r\n        this.loading = false\r\n    }\r\n\r\n\r\n    static get styles(){\r\n        return css`\r\n            #memes{\r\n                margin-top:12px;\r\n                display: grid;\r\n                place-items: center;\r\n            }\r\n\r\n            #container{\r\n                font-family:roboto;\r\n                display:grid;\r\n                gird-template-colums:50% 50%;\r\n                place-items:center;\r\n                margin-top:22px;\r\n            }\r\n\r\n            \r\n            h3{\r\n                text-align:center;\r\n                font-size:24px;\r\n                font-weight:100;\r\n                font-family:roboto;\r\n            }\r\n\r\n            #tabs button{\r\n                background: no-repeat;\r\n                border: none;\r\n                font-size: 20px;\r\n                padding:0;\r\n                outline:none;\r\n                margin-right:15px;\r\n\r\n                color: #222;\r\n                font-weight:200;\r\n\r\n                font-family: roboto;\r\n            }\r\n\r\n\r\n            #tabs{\r\n                margin-bottom:30px;\r\n            }\r\n\r\n            #tabs button[data-active=\"true\"]{\r\n                font-weight:900;\r\n                color: rgb(255 63 63);;\r\n            }\r\n\r\n            a-meme{\r\n                margin-bottom:24px;\r\n                display: inline-block;\r\n            }\r\n\r\n            @media (min-width:850px){\r\n                #memes{\r\n      \r\n                    grid-column-gap: 10px;\r\n                    width: 90vw;\r\n                    grid-template-columns: 1fr 1fr 1fr;\r\n                }\r\n            }\r\n\r\n        `\r\n    }\r\n\r\n \r\n    render(){\r\n\r\n        if(this.loading) return html`<h3>Loading...</h3>`\r\n\r\n        let dontRepeatThese = []\r\n\r\n        let  returnMemes = ()=>{\r\n            let all = []\r\n\r\n            for(let index of this.memes){\r\n\r\n                index.map(item=>{\r\n                    \r\n\r\n                    let id\r\n                    let memeData \r\n    \r\n                    if(typeof item == 'string'){\r\n                         id = item\r\n                    }else{\r\n                         id = item._id\r\n                         memeData = item\r\n                    }\r\n\r\n                    if(dontRepeatThese.includes(id)) return\r\n\r\n                    dontRepeatThese.push(id)\r\n    \r\n                    all.push( html` <a-meme .contentId=${id} .memeData=${memeData}> </a-meme>`)\r\n                })\r\n                \r\n            }\r\n\r\n            return all\r\n\r\n        }\r\n\r\n        return html`\r\n        <div id=\"container\">\r\n            <div id='memes'>\r\n            ${returnMemes()}\r\n            </div>\r\n        </div>\r\n        `\r\n    }\r\n  \r\n}\r\n\r\ncustomElements.define('list-of-memes',listOfMemes)"},"lineCount":null}},"error":null,"hash":"64db22b97efcffb64f9a7b78df990af2","cacheData":{"env":{}}}